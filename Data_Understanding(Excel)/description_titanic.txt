## Цель задания
Выступить в роли исследователя и аналитика данных по вопросу с данными о пассажирах известного вам британского трансатлантического парохода.

Задание 2
Датасет содержит данные о пассажирах «Титаника» — британского трансатлантического парохода, который столкнулся с айсбергом в апреле 1912 
года и затонул в Северной Атлантике. Массовая культура не могла обойти стороной трагедию такого масштаба. Судьбе парохода посвящено множество 
книг, песен, кинематографических и анимационных фильмов и даже компьютерных игр.

Описание датасета:

PassengerId — идентификатор пассажира.
Survived — признак, который указывает, выжил ли пассажир после крушения: 1 – выжил, 0 – нет.
Pclass — класс обслуживания пассажира.
Sex — пол пассажира.
Age — возраст пассажира.
SibSp — общее количество братьев, сестёр, жён и мужей, с которыми путешествовал пассажир.
Parch — общее количество детей и родителей, с которыми путешествовал пассажир.
Fare — сумма денег, которую пассажир заплатил за билет.
Embarked — это буква, которая кодирует порт отправления пассажира (S — Саутгемптон, Q — Куинстаун, C — Шербур). 

Что нужно сделать?

    1. В колонках есть пропуски. Узнайте, сколько их. На отдельном листе создайте таблицу с заголовками, как у оригинальной, и в ячейках 
под ними посчитайте количество пропусков в соответствующих колонках. 

Теперь вы видите, что пропуски есть в колонках Survived, Age и Embarked. В колонке Embarked пропусков совсем немного, не заполняйте их. 
Колонка Age — числовая, вы уже несколько раз заполняли пропуски в таких колонках мерами среднего уровня. Если хотите, сделайте так и сейчас. 
Главное — заполните колонку Survived.



    2. С «Титаника» сначала спасали женщин, детей и состоятельных пассажиров, поэтому можно предположить, что значения колонки Survived 
зависят от пола пассажира и переменных, описывающих его материальное благосостояние, а именно: 

класс обслуживания (Pclass);
цена билета (Fare). 
Подтвердите эту гипотезу, заполнив пропуски в колонке Survived.



Создайте сводную таблицу, строки которой —это значения колонки Sex. В столбцах рассчитайте показатели:

количество мужчин и женщин, которые были на борту; 
количество мужчин и женщин, которые выжили (Для колонки Survived: 0 — утонул, 1 — выжил, поэтому количество выживших – это сумма нулей и единиц). 
      У вас должна получиться таблица, в которой четыре строки (с учётом заголовка и строки «итого») и три столбца A, B и C (с учётом заголовка). 
Сейчас в столбцах — абсолютные значения, пересчитаем их в проценты. 

В ячейках сводной таблицы можно задавать формулы, как и во всех остальных таблицах. Сделайте так, чтобы ячейки D2, D3 и D4 содержали процент 
выживших мужчин, женщин и общее число всех выживших людей. Используйте формулы (Подсказка: чтобы узнать, какой процент x составляет от y, надо x 
поделить на y и умножить на 100).



    3. Теперь вы видите, что процент выживших среди женщин в четыре с лишним раза выше, но не торопитесь заполнять пропуски Survived, делая вывод, 
что женщины выживают, а мужчины — нет. Есть и другое, лучшее решение.  

Назовите лист со сводной таблицей Sex и создайте ещё одну сводную таблицу на новом листе. На этот раз со строками Sex и Pclass, но значения будут 
теми же: сколько было всего и сколько выжило. В колонке справа от таблицы (скорее всего это будет колонка E) пересчитайте в проценты. 



    4. Богатые женщины из первого класса выживают чаще. Назовите лист со сводной таблицей Sex_Pclass. Класс обслуживания мог быть один, но 
богатство кают — разное. От него зависела и цена билета.  Добавьте ещё сводную таблицу. Как мы писали ранее, приоритет при спасении с «Титаника» 
отдавался и тем, кто купил билет дороже.        

 Тут вы столкнётесь с трудностью: колонка Fare — числовая, а числа в ней дробные. Использовать её как есть в сводной таблице не получится, 
поэтому создайте правее от колонки Fare новую колонку, назовите её Fare_class и заполните следующим образом:  

Если значение Fare меньше 10, то значение Fare_class равно 4.  
Если значение Fare больше 10, но меньше 20, то значение Fare_class равно 3.
Если значение Fare больше 20, но меньше 30, то значение Fare_class равно 2.  
Если значение Fare больше или равно 30, то значение Fare_class равно 1.    
Вы можете это сделать с помощью функции IF, которую мы разбирали на уроках. Однако при её использовании придётся составить комбинацию таких функций, 
что не очень удобно синтаксически.  Другая функция — IFS — позволяет легко комбинировать условия. Прочитайте справку об этой функции. Вы будете часто 
обращаться к документации в дальнейшей учёбе и работе. 

Итак, теперь у вас есть колонка Fare_class, которая содержит числа от 1 до 4. Это — как бы класс цены билета: 1 — это самые дорогие билеты, 
а 4 — самые дешёвые. Сделайте новую сводную таблицу, в которой по строкам будет три измерения (пол, класс обслуживания, класс цены билета), а значения 
такие же, как два раза до этого. Теперь пересчитайте в проценты в колонке правее от таблицы (должна быть колонка F).

Если вы всё сделали правильно, то увидите, что выживаемость выше всего у богатых женщин из первого класса, которые плыли в самых дорогих каютах. 



    5. Вернёмся к заполнению пропусков в колонке Survived. Руководствуйтесь правилом: если процент выживаемости в группе выше 50%, то считайте, что 
типичный представитель этой группы выживает, а если ниже — то нет. Получается, что у мужчин нет шансов. А ещё шансов нет у женщин, которые заплатили 
больше 20 за билет.  

Создайте новый столбец, назовите Survived_full. Алгоритм его заполнения:

Если в колонке Survived есть значение, то берите его.
Если в колонке Survived, значения нет, то:
если пол male, ставьте 0;
если пол female, Pclass — 3, а Fare — больше 20, то ставьте 0;
во всех остальных случаях – 1.
Реализуйте это алгоритм с помощью комбинации функций ISBLANK и IF и заполните колонку Survived_full. 